query GetMetrcApiKeysByCompanyId($companyId: uuid!) {
  metrc_api_keys(where: { company_id: { _eq: $companyId } }) {
    id
    ...MetrcApiKey
  }
}

query GetMetrcDownloadSummariesByMetrcApiKeyId($metrcApiKeyId: uuid!) {
  metrc_download_summaries(
    where: { metrc_api_key_id: { _eq: $metrcApiKeyId } }
    order_by: { date: desc }
  ) {
    id
    ...MetrcDownloadSummaryLimited
  }
}
