query GetUser($id: uuid!) {
  users_by_pk(id: $id) {
    id
    ...User
  }
}

query GetActiveUsersByRoles($roles: [user_roles_enum!]!) {
  users(
    where: {
      _and: [
        {
          _or: [
            { is_deleted: { _is_null: true } }
            { is_deleted: { _eq: false } }
          ]
        }
        { role: { _in: $roles } }
      ]
    }
  ) {
    id
    ...User
    company {
      id
      name
    }
  }
}

query GetDeactivedUsersByRoles($roles: [user_roles_enum!]!) {
  users(
    where: { _and: [{ is_deleted: { _eq: true } }, { role: { _in: $roles } }] }
  ) {
    id
    ...User
  }
}

query GetUsersForCompany($parent_company_id: uuid!, $company_id: uuid!) {
  users(
    where: {
      _and: [
        {
          _or: [
            { is_deleted: { _is_null: true } }
            { is_deleted: { _eq: false } }
          ]
        }
        {
          _or: [
            { parent_company_id: { _eq: $parent_company_id } }
            { company_id: { _eq: $company_id } }
          ]
        }
      ]
    }
    order_by: { full_name: asc }
  ) {
    ...User
  }
}

query GetDeactivatedUsersForCompany(
  $parent_company_id: uuid!
  $company_id: uuid!
) {
  users(
    where: {
      _and: [
        { is_deleted: { _eq: true } }
        {
          _or: [
            { parent_company_id: { _eq: $parent_company_id } }
            { company_id: { _eq: $company_id } }
          ]
        }
      ]
    }
    order_by: { full_name: asc }
  ) {
    ...User
  }
}
