query GetVendorPartnershipsByCompanyId($companyId: uuid!) {
  company_vendor_partnerships(where: { company_id: { _eq: $companyId } }) {
    ...VendorPartnership
    vendor {
      id
      ...ThirdParty
    }
    vendor_bank_account {
      id
      verified_at
    }
  }
}

query VendorPartnershipsByCompanyId($companyId: uuid!) {
  company_vendor_partnerships(where: { company_id: { _eq: $companyId } }) {
    id
    ...VendorPartnership
    vendor_limited {
      ...VendorLimited
    }
    vendor_bank_account {
      id
      verified_at
    }
  }
}

query VendorsByPartnerCompany($companyId: uuid!) {
  vendors(
    where: { company_vendor_partnerships: { company_id: { _eq: $companyId } } }
  ) {
    id
    ...VendorLimited
    company_vendor_partnerships {
      id
      approved_at
    }
  }
}

query ApprovedVendorsByPartnerCompanyId($companyId: uuid!) {
  vendors(
    where: {
      company_vendor_partnerships: {
        _and: [
          { company_id: { _eq: $companyId } }
          { approved_at: { _is_null: false } }
        ]
      }
    }
  ) {
    id
    ...VendorLimited
    company_vendor_partnerships {
      id
      approved_at
    }
  }
}

query CompanyVendorPartnershipForVendor($companyId: uuid!, $vendorId: uuid!) {
  company_vendor_partnerships(
    where: {
      _and: [
        { company_id: { _eq: $companyId } }
        { vendor_id: { _eq: $vendorId } }
      ]
    }
  ) {
    id
    vendor_bank_account {
      ...BankAccountForVendor
    }
  }
}
