fragment Vendor on companies {
  id
  name
  address
  country
  state
  city
  zip_code
  phone_number
}

fragment VendorPartnership on company_vendor_partnerships {
  id
  company_id
  vendor_id
  vendor_agreement_id
  vendor_bank_account {
    id
    verified_at
  }
  vendor_license_id
}

mutation AddVendorPartnership(
  $vendorPartnership: company_vendor_partnerships_insert_input!
) {
  insert_company_vendor_partnerships_one(object: $vendorPartnership) {
    ...VendorPartnership
    vendor {
      ...Vendor
    }
  }
}

query ListVendorPartnerships($companyId: uuid!) {
  company_vendor_partnerships(where: { company_id: { _eq: $companyId } }) {
    ...VendorPartnership
    vendor {
      ...Vendor
    }
  }
}
