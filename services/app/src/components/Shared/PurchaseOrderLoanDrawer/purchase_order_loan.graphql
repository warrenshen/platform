query PurchaseOrderLoan($id: uuid!) {
  purchase_order_loans_by_pk(id: $id) {
    ...PurchaseOrderLoan
    loan {
      company {
        id
        name
      }
    }
    purchase_order {
      ...PurchaseOrder
    }
  }
}

query PurchaseOrderLoanForBank($id: uuid!) {
  purchase_order_loans_by_pk(id: $id) {
    ...PurchaseOrderLoanForBank
  }
}

query PurchaseOrderLoanSiblings($id: uuid, $purchase_order_id: uuid!) {
  purchase_order_loans(
    where: {
      _and: [
        { id: { _neq: $id } }
        { purchase_order_id: { _eq: $purchase_order_id } }
      ]
    }
  ) {
    id
    loan {
      amount
      status
    }
  }
}

query PurchaseOrderLoanDisbursements($id: uuid!) {
  purchase_order_loans_by_pk(id: $id) {
    id
    transactions {
      ...PurchaseOrderLoanTransaction
      transaction {
        ...Transaction
      }
    }
  }
}
