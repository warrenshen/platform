fragment PurchaseOrderLoanPayment on purchase_order_loan_payments {
  purchase_order_loan_id
  payment_id
}

fragment PurchaseOrderLoan on purchase_order_loans {
  id
  amount
  status
  maturity_date
  adjusted_maturity_date
}

query PurchaseOrderLoan($id: uuid!) {
  purchase_order_loans_by_pk(id: $id) {
    ...PurchaseOrderLoan
    company {
      id
      name
    }
    purchase_order {
      ...PurchaseOrder
    }
  }
}

query PurchaseOrderLoanDisbursements($id: uuid!) {
  purchase_order_loans_by_pk(id: $id) {
    id
    payments {
      ...PurchaseOrderLoanPayment
      payment {
        ...Payment
      }
    }
  }
}
