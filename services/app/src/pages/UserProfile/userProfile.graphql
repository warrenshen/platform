fragment User on users {
  id
  first_name
  last_name
  full_name
  email
  phone_number
  role
}

query UserById($id: uuid!) {
  users_by_pk(id: $id) {
    ...User
  }
}

mutation UpdateUser($id: uuid!, $user: users_set_input!) {
  update_users_by_pk(pk_columns: { id: $id }, _set: $user) {
    ...User
  }
}

query UsersByEmail($email: String!) {
  users(where: { email: { _eq: $email } }) {
    id
    company_id
    role
  }
}
